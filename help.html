<html>
<head>
    <title>Help Window</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content='width=device-width, initial-scale=1' name='viewport'/>
    <link type="text/css" rel="stylesheet" href="css/style_help.css"/>
    <link rel="icon" href="images/huella_gato.png">
    
    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
            integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" 
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    
</head>
    <body>
        <span id="btnAtras" class="glyphicon glyphicon-arrow-left"aria-hidden="true" style="position: absolute; top: 3; left: 0;" onclick="retroceder()"></span>
            
        <div id="texto">   
            
                <image id="bg" src="images/help_bg.png"></image>
                <image id="move" src="images/walk.gif"></image>
                <image id="attack" src="images/atack.gif"></image>
                <image id="exit" src="images/exit.gif"></image>
                <image id="bug" src="images/bug.gif"></image>
                <t1 id="t1">¿En qué consiste el juego?</t1>
                <p2 id="p2">Se jugará con un gato que afrontará sus miedos lanzándoles ovillos de lana para derrotarlos. 
                    Cada vez que el enemigo es golpeado, se le reduce una <br>porción de vida. El gato es capaz de  moverse 
                    horizontalmente hacia delante y detrás, y a su vez es capaz de moverse hacia un lado u otro.</p2>
                <t2 id="t2">¿Con qué controles se juega?</t2>
                <p1 id="p1"><br>W avanza un carril más lejos <br> S avanza un carril más cercano <br> A avanza en el carril hacia la izquierda<br> D avanza en el carril hacia la derecha</p1>
                <p5 id="p5">Q acciona el ataque</p5>
                <p6 id="p6">Esc para retroceder a la anterior <br>pantalla</p6>
                <p7 id ="p7">Ctrl + F5 en caso de error en <br> el juego para refrescar la pantalla </p7>                  
                
        </div>
        
        <script>
            var player = 0;

            //Funcion para volver al menu principal
            function retroceder() {
                window.location.href = "menu.html";
            };
            $(document).keyup(function(e) {
                if (e.keyCode == 27) { // escape key maps to keycode `27`
                    window.location.href = "menu.html";
                }
                if (e.keyCode == 49) { // escape key maps to keycode `27`
                    player = 1;
                    if(eng == 1){
                        document.getElementById("p1").innerHTML = p1Eng;
                        document.getElementById("p5").innerHTML = p5Eng;   
                        document.getElementById("bg").src="images/help_bg_1_eng.png";
                    }
                    if(eng == 0){
                        document.getElementById("p1").innerHTML = p1Spa;
                        document.getElementById("p5").innerHTML = p5Spa;
                        document.getElementById("bg").src="images/help_bg_1.png";
                    }                    
                }
                if (e.keyCode == 50) { // escape key maps to keycode `27`
                    player = 2;
                    if(eng == 1){
                        document.getElementById("p1").innerHTML = p1Eng2;
                        document.getElementById("p5").innerHTML = p5Eng2;
                        document.getElementById("bg").src="images/help_bg_2_eng.png";
                    }
                    if(eng == 0){
                        document.getElementById("p1").innerHTML = p1Spa2;
                        document.getElementById("p5").innerHTML = p5Spa2;
                        document.getElementById("bg").src="images/help_bg_2.png";
                    }                    
                }
            });
            
            //Idioma
            var eng = 0; //1 para ingles
            var t1Eng = "What is the game about?";
            var t1Spa = "¿En qué consiste el juego?";
            var p2Spa = "Se jugará con un gato que afrontará sus miedos lanzándoles ovillos de lana para derrotarlos. "+
                    "Cada vez que el enemigo es golpeado, se le reduce una <br>porción de vida. El gato es capaz de  moverse"+
                    "horizontalmente hacia delante y detrás, y a su vez es capaz de moverse hacia un lado u otro.";
            var p2Eng = "You play as a cat that faces its fears by throwing balls of yarn until it defeats them. "+
                "Every time an enemy is hit by the ball, its life is reduced. <br>The cat can move forward and backwards, and also to the "+
                "right and to the left.";
            var t2Spa = "¿Con qué controles se juega?";
            var t2Eng = "How do you play?";
            var p1Spa = "W avanza un carril más lejos <br> S avanza un carril más cercano <br> A avanza en el carril hacia "+
                "la izquierda<br> D avanza en el carril hacia la derecha.";
            var p1Eng = "W moves the cat backwards on the rails <br> S moves the cat forward on the rails <br> A moves the cat "+
                "to the left <br> D moves the cat to the right.";
            var p5Spa = "Q acciona el ataque.";
            var p5Eng = "Q shoots the ball of yarn";
            var p6Spa = "Esc para retroceder a la anterior <br>pantalla";
            var p6Eng = "Esc to go back to the previous <br>screen";
            var p7Spa = "Ctrl + F5 en caso de error en <br> el juego para refrescar la pantalla";
            var p7Eng = "Ctrl + F5 to reload the screen in case the game crashes";
            var p1Spa2 = "8 avanza un carril más lejos <br> 5 avanza un carril más cercano <br> 4 avanza en el carril hacia "+
                "la izquierda<br> 6 avanza en el carril hacia la derecha.";
            var p1Eng2 = "8 moves the cat backwards on the rails <br> 5 moves the cat forward on the rails <br> 4 moves the cat "+
                "to the left <br> 6 moves the cat to the right.";
            var p5Spa2 = "7 acciona el ataque.";
            var p5Eng2 = "7 shoots the ball of yarn";
            
            window.onload = function () {
                eng = localStorage.getItem("idioma");
                
                console.log("id: " + eng);
                if (eng == 1) {
                    console.log("ingles")
                    document.getElementById("p6").innerHTML = p6Eng;
                    document.getElementById("p7").innerHTML = p7Eng;
                    document.getElementById("t1").innerHTML = t1Eng;
                    document.getElementById("p2").innerHTML = p2Eng;
                    document.getElementById("t2").innerHTML = t2Eng;
                    if(player == 1){                        
                        document.getElementById("p1").innerHTML = p1Eng;
                        document.getElementById("p5").innerHTML = p5Eng;                        
                        document.getElementById("bg").src="images/help_bg_1_eng.png";
                    }
                    if(player == 2){
                        document.getElementById("p1").innerHTML = p1Eng2;
                        document.getElementById("p5").innerHTML = p5Eng2;
                        document.getElementById("bg").src="images/help_bg_2_eng.png";
                    }
                    
                } else if (eng == 0) {
                    console.log("español");
                    document.getElementById("t1").innerHTML = t1Spa;
                    document.getElementById("p2").innerHTML = p2Spa;
                    document.getElementById("t2").innerHTML = t2Spa;                    
                    document.getElementById("p6").innerHTML = p6Spa;
                    document.getElementById("p7").innerHTML = p7Spa;
                    if(player == 1){
                        document.getElementById("p1").innerHTML = p1Spa;
                        document.getElementById("p5").innerHTML = p5Spa;
                        document.getElementById("bg").src="images/help_bg_1.png";
                    }
                    if(player == 2){
                        document.getElementById("p1").innerHTML = p1Spa2;
                        document.getElementById("p5").innerHTML = p5Spa2;
                        document.getElementById("bg").src="images/help_bg_2.png";
                    }
                }
            };
         </script>
            
    </body>
</html>
